const mongoose = require('mongoose');
const Customer = require('./models/customer.model'); // Adjust path as per your folder structure
const connectDB = require('./config/db');

const MONGO_URI =
  'mongodb+srv://CableTV-Billing:xHfUOkDYo7RgK1bm@cluster0.9znc3.mongodb.net/CableTV_Billing?retryWrites=true&w=majority&appName=Cluster0'; // Update with your DB URI

const operatorId = '6863f97f548073a2ed1891ea';
const productIds = ['6864a1b1c9e8d4f2a1b3c8d1', '6864a1b1c9e8d4f2a1b3c8d2'];

const customers = [
  {
    operatorId: '6863f97f548073a2ed1891ea',
    agentId: null,
    customerCode: 'CUST001',
    name: 'Ravi Kumar',
    locality: 'Vijayanagar',
    mobile: '9876543210',
    billingAddress: 'H.No 101, Vijayanagar',
    balanceAmount: 120,
    connectionStartDate: new Date('2023-01-10'),
    expiryDate: new Date('2025-01-10'),
    sequenceNo: 1,
    active: true,
    stbName: 'STB-X',
    stbNumber: 'STB0001',
    cardNumber: 'CARD001',
    productId: '6864a1b1c9e8d4f2a1b3c8d1',
    additionalCharge: 0,
    discount: 10,
    lastPaymentAmount: 500,
    remark: 'Good customer',
  },
  {
    operatorId: '6863f97f548073a2ed1891ea',
    agentId: null,
    customerCode: 'CUST002',
    name: 'Lakshmi Narayana',
    locality: 'Madhuranagar',
    mobile: '9123456780',
    billingAddress: 'Flat 202, Madhuranagar',
    balanceAmount: 80,
    connectionStartDate: new Date('2022-12-01'),
    expiryDate: new Date('2025-12-01'),
    sequenceNo: 2,
    active: true,
    stbName: 'STB-Y',
    stbNumber: 'STB0002',
    cardNumber: 'CARD002',
    productId: '6864a1b1c9e8d4f2a1b3c8d2',
    additionalCharge: 30,
    discount: 0,
    lastPaymentAmount: 600,
    remark: '',
  },
  {
    operatorId: '6863f97f548073a2ed1891ea',
    agentId: null,
    customerCode: 'CUST003',
    name: 'Suresh Babu',
    locality: 'Vijayanagar',
    mobile: '9012345678',
    billingAddress: 'Vijayanagar Street 5',
    balanceAmount: 0,
    connectionStartDate: new Date('2024-02-15'),
    expiryDate: new Date('2025-02-15'),
    sequenceNo: 3,
    active: true,
    stbName: 'STB-Z',
    stbNumber: 'STB0003',
    cardNumber: 'CARD003',
    productId: '6864a1b1c9e8d4f2a1b3c8d1',
    additionalCharge: 20,
    discount: 5,
    lastPaymentAmount: 550,
    remark: 'Recent upgrade',
  },
  {
    operatorId: '6863f97f548073a2ed1891ea',
    agentId: null,
    customerCode: 'CUST004',
    name: 'Kiranmai',
    locality: 'Madhuranagar',
    mobile: '9955664433',
    billingAddress: 'Plot 45, Madhuranagar',
    balanceAmount: 50,
    connectionStartDate: new Date('2023-04-20'),
    expiryDate: new Date('2025-04-20'),
    sequenceNo: 4,
    active: true,
    stbName: 'STB-W',
    stbNumber: 'STB0004',
    cardNumber: 'CARD004',
    productId: '6864a1b1c9e8d4f2a1b3c8d2',
    additionalCharge: 0,
    discount: 20,
    lastPaymentAmount: 450,
    remark: '',
  },
  {
    operatorId: '6863f97f548073a2ed1891ea',
    agentId: null,
    customerCode: 'CUST005',
    name: 'Bhaskar Reddy',
    locality: 'Vijayanagar',
    mobile: '8899776655',
    billingAddress: 'Near Park, Vijayanagar',
    balanceAmount: 0,
    connectionStartDate: new Date('2022-06-15'),
    expiryDate: new Date('2025-06-15'),
    sequenceNo: 5,
    active: true,
    stbName: 'STB-V',
    stbNumber: 'STB0005',
    cardNumber: 'CARD005',
    productId: '6864a1b1c9e8d4f2a1b3c8d1',
    additionalCharge: 10,
    discount: 0,
    lastPaymentAmount: 400,
    remark: '',
  },
  {
    operatorId: '6863f97f548073a2ed1891ea',
    agentId: null,
    customerCode: 'CUST006',
    name: 'Rajeshwari',
    locality: 'Madhuranagar',
    mobile: '9000000001',
    billingAddress: 'D.No 23, Madhuranagar',
    balanceAmount: 60,
    connectionStartDate: new Date('2023-09-05'),
    expiryDate: new Date('2025-09-05'),
    sequenceNo: 6,
    active: true,
    stbName: 'STB-T',
    stbNumber: 'STB0006',
    cardNumber: 'CARD006',
    productId: '6864a1b1c9e8d4f2a1b3c8d2',
    additionalCharge: 0,
    discount: 15,
    lastPaymentAmount: 500,
    remark: '',
  },
  {
    operatorId: '6863f97f548073a2ed1891ea',
    agentId: null,
    customerCode: 'CUST007',
    name: 'Divya Teja',
    locality: 'Vijayanagar',
    mobile: '8888443322',
    billingAddress: 'House No. 7, Vijayanagar',
    balanceAmount: 100,
    connectionStartDate: new Date('2024-01-01'),
    expiryDate: new Date('2025-01-01'),
    sequenceNo: 7,
    active: true,
    stbName: 'STB-U',
    stbNumber: 'STB0007',
    cardNumber: 'CARD007',
    productId: '6864a1b1c9e8d4f2a1b3c8d1',
    additionalCharge: 5,
    discount: 10,
    lastPaymentAmount: 300,
    remark: '',
  },
  {
    operatorId: '6863f97f548073a2ed1891ea',
    agentId: null,
    customerCode: 'CUST008',
    name: 'Harsha Vardhan',
    locality: 'Madhuranagar',
    mobile: '7777666555',
    billingAddress: 'Street No. 4, Madhuranagar',
    balanceAmount: 40,
    connectionStartDate: new Date('2023-08-10'),
    expiryDate: new Date('2025-08-10'),
    sequenceNo: 8,
    active: true,
    stbName: 'STB-S',
    stbNumber: 'STB0008',
    cardNumber: 'CARD008',
    productId: '6864a1b1c9e8d4f2a1b3c8d2',
    additionalCharge: 0,
    discount: 0,
    lastPaymentAmount: 600,
    remark: '',
  },
  {
    operatorId: '6863f97f548073a2ed1891ea',
    agentId: null,
    customerCode: 'CUST009',
    name: 'Anil Kumar',
    locality: 'Vijayanagar',
    mobile: '9090909090',
    billingAddress: 'Opp. Water Tank, Vijayanagar',
    balanceAmount: 20,
    connectionStartDate: new Date('2022-11-11'),
    expiryDate: new Date('2025-11-11'),
    sequenceNo: 9,
    active: true,
    stbName: 'STB-R',
    stbNumber: 'STB0009',
    cardNumber: 'CARD009',
    productId: '6864a1b1c9e8d4f2a1b3c8d1',
    additionalCharge: 15,
    discount: 5,
    lastPaymentAmount: 350,
    remark: 'Late payment history',
  },
  {
    operatorId: '6863f97f548073a2ed1891ea',
    agentId: null,
    customerCode: 'CUST010',
    name: 'Meghana',
    locality: 'Madhuranagar',
    mobile: '9988776655',
    billingAddress: 'Lane 12, Madhuranagar',
    balanceAmount: 90,
    connectionStartDate: new Date('2023-03-03'),
    expiryDate: new Date('2025-03-03'),
    sequenceNo: 10,
    active: true,
    stbName: 'STB-Q',
    stbNumber: 'STB0010',
    cardNumber: 'CARD010',
    productId: '6864a1b1c9e8d4f2a1b3c8d2',
    additionalCharge: 25,
    discount: 0,
    lastPaymentAmount: 480,
    remark: '',
  },
];
connectDB();

async function seedCustomers() {
  try {
    await Customer.deleteMany({}); // Optional: Clear existing data
    const inserted = await Customer.insertMany(customers);
    console.log(`✅ Successfully inserted ${inserted.length} customers.`);

    await mongoose.disconnect();
  } catch (err) {
    console.error('❌ Seeding failed:', err);
    process.exit(1);
  }
}

seedCustomers();
